"use strict";define(["app/observer","app/localStorageManager"],function(e,t){var o=function(){};o.prototype={update:function(){throw new error("not implemented")},reset:function(){throw new error("not implemented")}};var n=function(){var n=new t;this.prototype=new o,this.prototype.constructor=o,this.update=function(t,o,r){if(o){var a=e(".container");e(a).css({background:"url("+o+")","background-position":"center 0","background-repeat":"no-repeat","background-size":"cover"}),e(".container > header").addClass("theme-header"),e(".logo > img").attr({src:"../images/baidu_jquery_theme_logo.png"}),e(".logo").css({width:"270px",height:"129px"}),e(".logo > img").css({"max-width":"270px"}),e(".container > footer").addClass("ending-theme"),n.config("SITE_CONFIG_IMG",o)}if(r){e(".opacity-bar").show(),e("*[data-type='default-skin']").show();e("nav[data-type='toggle']").first();e(".main-content").css({opacity:r}),e(".opacity-result").text(Math.floor(100*r)+"%"),e("#search-form button").addClass("theme-button"),n.config("SITE_CONFIG_OPACITY",r)}},this.reset=function(){var t=e(".container");e(t).css({background:"#fff"}),e(".container > header").removeClass("theme-header"),e(".logo > img").attr({src:"../images/plus_logo.png"}),e(".logo").css({width:"217px",height:"70px"}),e(".logo > img").css({"max-width":"217px"}),e(".container > footer").removeClass("ending-theme"),e(".main-content").css({opacity:"1"}),e(".opacity-bar").hide(),e("*[data-type='default-skin']").hide(),e("#search-form button").removeClass("theme-button"),n.remove("SITE_CONFIG_IMG"),n.remove("SITE_CONFIG_OPACITY")}};return{subscribe:function(){var t=new n;e.subscribe("theme-change",t.update),e.subscribe("theme-reset",t.reset)},initialize:function(){var o=new t,n=o.config("SITE_CONFIG_IMG"),r=o.config("SITE_CONFIG_OPACITY");e.publish("theme-change",[n,r])}}});