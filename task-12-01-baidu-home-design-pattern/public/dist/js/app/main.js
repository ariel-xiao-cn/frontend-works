"use strict";define(["app/theme","app/observer"],function(e,t){t().ready(function(){e.subscribe(),e.initialize(),function(){var e=!1;t("#opacity-rec").on("mousedown",function(i){e=!0;var a=i.pageX-parseInt(t(this).css("left"));t("#opacity-rec").on("mouseup",function(){e=!1}),t("#opacity-rec").on("mousemove",function(i){var n=i.pageX-a;if(n<0?n=0:n>100&&(n=100),e){t(this).css({left:n+"px"});var c=parseFloat(n/100,2);t.publish("theme-change",[null,c])}})})}(),function(){var e=t("a[data-type='trigger-toggle']").first(),i=t("nav[data-type='toggle']").first();i.hide(),e.on("mouseenter",function(){i.slideDown("slow")}),i.on("mouseleave",function(){i.slideUp("slow")})}(),function(){var e=t("div[data-type='current-display']");t(".tab").children("article");t("nav[data-type='tab-controls'] ul li").each(function(){t(this).on("click",function(){t(this).addClass("active"),t(this).siblings().each(function(){t(this).removeClass("active")});var i="#"+t(this).attr("data-tab"),a=t(i);t(e).html(t(a).html());var n=t(".foldable").first(),c=n.siblings("nav");t(n).on("click",function(){c.slideToggle(500)})})})}(),t("li[data-tab='myFavor']").click(),t("#skinSwap").on("click",function(){t("#theme-changer").slideDown(500).fadeIn(500);var e=t("<div class='mask'></div>");t(e).on("click",function(){t("#theme-changer").slideUp(500),t(".mask").remove(),t(".container").css({overflow:"auto"})}),t(".container").css({overflow:"hidden"}),t(".container > header").prepend(e)}),t(".avaThemes li > a").each(function(){var e=t(this).children("img").attr("src"),i=parseInt(t(".opacity-result").text())/100;0==i&&(i=1),t(this).on("click",function(){t.publish("theme-change",[e,i])}),t(this).on("mouseover",function(){t(".preview-tab").css({background:"url("+e+")","background-repeat":"no-repeat","background-size":"cover"})})}),t("#theme-changer > header > ul > li").not(".opacity-bar").not(".tools").each(function(){t(this).on("click",function(){t(this).addClass("active"),t(this).siblings("*").removeClass("active")})}),t("*[data-type='clip']").on("click",function(){t("#theme-changer").slideUp(500),t(".mask").remove(),t(".container").css({overflow:"auto"})}),t("*[data-type='default-skin']").on("click",function(){t.publish("theme-reset")}),t("#theme-changer > header > ul > li").first().addClass("active")})});